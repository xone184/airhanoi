import{c as o,r,R as pe,e as k,j as e,D as ue,X as L}from"./index-Burcgm4f.js";import{A as ge}from"./activity-Bv0ZjOXl.js";import{U as H}from"./users-B1xU71_s.js";import{C as ee}from"./clock-Dmfb1eu3.js";import{R as be,C as Ge,X as We,Y as Ye,T as fe,a as Ze}from"./generateCategoricalChart-DcZIKlHY.js";import{A as et}from"./AreaChart-BW9tkqcZ.js";import{A as tt}from"./Area-D5hyILVy.js";import{P as st,a as lt}from"./PieChart-EfIn1ZbL.js";import{F as je}from"./filter-ChnMpxwT.js";import{S as at}from"./search-nW6w-ExN.js";import{C as I}from"./check-circle-B6bX8Vb1.js";import{T as ve}from"./trash-2-CuCXlTxQ.js";import{A as te}from"./alert-circle-D37xQ5Of.js";import{R as rt}from"./refresh-cw-D7095Lxg.js";import{M as nt}from"./map-pin-BkUvi_fT.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=o("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=o("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=o("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=o("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=o("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=o("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=o("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=o("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=o("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=o("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=o("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=o("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=o("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=o("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=o("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=o("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ut=({onRealtimeDataLoaded:y,onForecastDataLoaded:z,reports:u,onUpdateReportStatus:g,systemSettings:b,onSystemSettingsChange:c})=>{const[h,S]=r.useState("dashboard"),[Te,Ue]=r.useState({"dim_aqi_level.csv":{type:"dim",label:"Cáº¥u hÃ¬nh chá»‰ sá»‘ AQI",status:"missing",lastUpdate:"-"},"dim_district.csv":{type:"dim",label:"Danh má»¥c Quáº­n/Huyá»‡n",status:"missing",lastUpdate:"-"},"fact_forecast.csv":{type:"fact",label:"Dá»¯ liá»‡u Dá»± bÃ¡o (7 ngÃ y)",status:"missing",lastUpdate:"-"},"fact_realtime.csv":{type:"fact",label:"Dá»¯ liá»‡u Thá»i gian thá»±c",status:"missing",lastUpdate:"-"}}),[De,$e]=r.useState([{id:1,time:"10:42 AM",type:"info",msg:"System initialized successfully."},{id:2,time:"10:45 AM",type:"success",msg:"Connected to Open-Meteo API (Latency: 45ms)."},{id:3,time:"10:46 AM",type:"info",msg:"Database integrity check passed."},{id:4,time:"11:00 AM",type:"warning",msg:"High traffic detected on map module."}]),[d,M]=r.useState([]),[R,Ae]=r.useState("all"),[O,_e]=r.useState(""),[l,q]=r.useState(null),[K,T]=r.useState([]),[P,ae]=r.useState(null),[J,Fe]=r.useState(""),[G,Le]=r.useState("all"),[W,He]=r.useState("all"),[Y,Ie]=r.useState(""),[Z,Ee]=r.useState(""),[Re,B]=r.useState(!1),[Oe,V]=r.useState(!1),[mt,pt]=r.useState(null),[U,D]=r.useState({username:"",email:"",password:"",role:"user"}),[x,X]=r.useState({id:0,username:"",email:"",role:"user"}),[m,$]=r.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{},type:"info"}),A=pe.useCallback(async t=>{try{const s=await k.getUsers(t);T(s),ae(null)}catch(s){console.error("Load users error:",s),ae("KhÃ´ng thá»ƒ táº£i danh sÃ¡ch ngÆ°á»i dÃ¹ng tá»« CSDL")}},[]);pe.useEffect(()=>{A()},[A]);const i=(t,s)=>{const a=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});$e(p=>[{id:Date.now(),time:a,type:t,msg:s},...p])},[C,re]=r.useState(b.maintenanceMode),[ne,ie]=r.useState(b.refreshInterval);r.useEffect(()=>{re(b.maintenanceMode),ie(b.refreshInterval)},[b]);const qe=async(t,s)=>{var p;const a=(p=s.target.files)==null?void 0:p[0];if(a){if(!a.name.endsWith(".csv")){i("error",`File ${a.name} khÃ´ng Ä‘Ãºng Ä‘á»‹nh dáº¡ng .csv`);return}i("info",`Äang upload file ${t} lÃªn server...`);try{let n="";if(t==="fact_realtime.csv")n="realtime";else if(t==="fact_forecast.csv")n="forecast";else{i("info",`File ${t} khÃ´ng cáº§n upload (dimension table)`);return}const j="https://airhanoi.onrender.com/api",xe=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).token:null,he=new FormData;he.append("file",a);const me=await fetch(`${j}/upload.php?type=${n}`,{method:"POST",headers:{Authorization:xe?`Bearer ${xe}`:""},body:he}),F=await me.text();if(!F||!F.trim())throw new Error("Server khÃ´ng tráº£ dá»¯ liá»‡u JSON (response rá»—ng). Kiá»ƒm tra láº¡i cáº¥u hÃ¬nh PHP/XAMPP hoáº·c file CSV.");let v;try{v=JSON.parse(F)}catch{throw console.error("Upload response khÃ´ng pháº£i JSON há»£p lá»‡:",F),new Error("Server tráº£ dá»¯ liá»‡u khÃ´ng pháº£i JSON há»£p lá»‡. Chi tiáº¿t: "+F.substring(0,120))}if(!me.ok||!v.success)throw new Error(v.error||"Upload failed");if(Ue(f=>({...f,[t]:{...f[t],status:"uploaded",lastUpdate:new Date().toLocaleString()}})),i("success",`ÄÃ£ upload ${v.data.inserted||0} dÃ²ng dá»¯ liá»‡u ${n==="realtime"?"Realtime":"Forecast"} vÃ o database.`),v.data.errors&&v.data.errors.length>0&&i("warning",`${v.data.errors_count||0} dÃ²ng cÃ³ lá»—i. Chi tiáº¿t: ${v.data.errors.join(", ")}`),n==="realtime")try{const w=await(await fetch(`${j}/air_quality.php?type=realtime`)).json();w.success&&w.data&&y(w.data)}catch(f){console.error("Failed to reload realtime data:",f)}else if(n==="forecast")try{const w=await(await fetch(`${j}/air_quality.php?type=forecast`)).json();w.success&&w.data&&z(w.data)}catch(f){console.error("Failed to reload forecast data:",f)}}catch(n){i("error",`Lá»—i upload file ${t}: ${n.message||n}`),console.error("Upload error:",n)}}},N=r.useMemo(()=>u.filter(t=>{const s=R==="all"||t.status===R,a=!O||t.created_at.startsWith(O);return s&&a}).sort((t,s)=>new Date(s.created_at).getTime()-new Date(t.created_at).getTime()),[u,R,O]),Ke=()=>{d.length===N.length?M([]):M(N.map(t=>t.report_id).filter(t=>t))},Pe=t=>{d.includes(t)?M(s=>s.filter(a=>a!==t)):M(s=>[...s,t])},oe=t=>{if(d.length===0)return;confirm(`XÃ¡c nháº­n ${t==="verified"?"DUYá»†T":"Tá»ª CHá»I"} ${d.length} bÃ¡o cÃ¡o?`)&&(g(d,t),M([]),i("success",`ÄÃ£ ${t==="verified"?"duyá»‡t":"tá»« chá»‘i"} ${d.length} bÃ¡o cÃ¡o.`))},de=t=>{if(l&&l.report_id){if(!confirm(`Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n ${t==="verified"?"DUYá»†T":"Tá»ª CHá»I"} bÃ¡o cÃ¡o nÃ y khÃ´ng?`))return;g([l.report_id],t),i("success",`ÄÃ£ ${t==="verified"?"duyá»‡t":"tá»« chá»‘i"} bÃ¡o cÃ¡o #${l.report_id}.`),q(null)}},ce=t=>{X({id:t.id,username:t.name,email:t.email,role:t.role}),V(!0)},Be=async()=>{if(!x.username||!x.email){i("error","Vui lÃ²ng nháº­p Ä‘áº§y Ä‘á»§ thÃ´ng tin");return}try{const t=await k.updateUserInfo(x.id,x.username,x.email,x.role);T(s=>s.map(a=>a.id===x.id?t:a)),V(!1),i("success",`ÄÃ£ cáº­p nháº­t thÃ´ng tin user ID ${x.id}`)}catch(t){console.error("Update user error:",t),i("error",`Lá»—i cáº­p nháº­t: ${t.message}`)}},Ve=async(t,s)=>{let a=s==="ban"?"KHÃ“A":"Má»ž KHÃ“A";$({isOpen:!0,title:`XÃ¡c nháº­n ${a}`,message:`Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n ${a} tÃ i khoáº£n nÃ y khÃ´ng?`,type:s==="ban"?"warning":"info",onConfirm:async()=>{try{const p=await k.updateUser(t,s);T(n=>n.map(j=>j.id===t?p:j)),i("success",`ÄÃ£ ${s==="ban"?"khÃ³a":"má»Ÿ khÃ³a"} user ID ${t}`),$(n=>({...n,isOpen:!1}))}catch(p){console.error("Update user error:",p),i("error","KhÃ´ng thá»ƒ cáº­p nháº­t tráº¡ng thÃ¡i ngÆ°á»i dÃ¹ng")}}})},Xe=async()=>{const{username:t,email:s,password:a,role:p}=U;if(!t.trim()||!s.trim()||!a.trim()){alert("Vui lÃ²ng nháº­p Ä‘áº§y Ä‘á»§ Username, Email vÃ  Máº­t kháº©u.");return}try{const n=await k.createUser({username:t.trim(),email:s.trim(),password:a,role:p});T(j=>[n,...j]),B(!1),D({username:"",email:"",password:"",role:"user"}),i("success",`ÄÃ£ táº¡o ngÆ°á»i dÃ¹ng má»›i: ${n.name}`)}catch(n){console.error("Create user error:",n),alert((n==null?void 0:n.message)||"KhÃ´ng thá»ƒ táº¡o ngÆ°á»i dÃ¹ng má»›i.")}},Qe=async t=>{$({isOpen:!0,title:"XÃ¡c nháº­n XÃ“A",message:"Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n XÃ“A hoÃ n toÃ n ngÆ°á»i dÃ¹ng nÃ y? HÃ nh Ä‘á»™ng nÃ y khÃ´ng thá»ƒ hoÃ n tÃ¡c.",type:"danger",onConfirm:async()=>{try{await k.deleteUser(t),T(s=>s.filter(a=>a.id!==t)),i("warning",`ÄÃ£ xÃ³a ngÆ°á»i dÃ¹ng ID ${t}`),$(s=>({...s,isOpen:!1}))}catch(s){console.error("Delete user error:",s),i("error",`Lá»—i xÃ³a ngÆ°á»i dÃ¹ng: ${s.message}`)}}})},_=r.useMemo(()=>{const t={pending:0,verified:0,rejected:0};return u.forEach(s=>{s.status==="pending"?t.pending++:s.status==="verified"?t.verified++:s.status==="rejected"&&t.rejected++}),[{name:"Chá» duyá»‡t",value:t.pending,color:"#facc15"},{name:"ÄÃ£ duyá»‡t",value:t.verified,color:"#22c55e"},{name:"Tá»« chá»‘i",value:t.rejected,color:"#ef4444"}]},[u]),Je=[{time:"00:00",users:120,apiCalls:450},{time:"04:00",users:80,apiCalls:300},{time:"08:00",users:450,apiCalls:1200},{time:"12:00",users:900,apiCalls:2500},{time:"16:00",users:750,apiCalls:2100},{time:"20:00",users:500,apiCalls:1500},{time:"23:59",users:200,apiCalls:600}];return e.jsxs("div",{className:"flex h-full animate-fade-in relative bg-slate-950",children:[e.jsxs("div",{className:"w-64 bg-slate-900 border-r border-slate-800 flex flex-col p-4 space-y-2 flex-shrink-0",children:[e.jsxs("div",{className:"mb-6 px-2",children:[e.jsxs("h1",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(ke,{className:"text-blue-500",size:20}),"Admin Center"]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Trung tÃ¢m quáº£n trá»‹ há»‡ thá»‘ng"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"px-3 text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 mt-4",children:"Tá»•ng quan"}),e.jsx(E,{id:"dashboard",icon:e.jsx(ge,{size:18}),label:"Dashboard",active:h,onClick:S}),e.jsx(E,{id:"system",icon:e.jsx(Ce,{size:18}),label:"Há»‡ thá»‘ng",active:h,onClick:S}),e.jsx("p",{className:"px-3 text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 mt-4",children:"Quáº£n lÃ½"}),e.jsx(E,{id:"users",icon:e.jsx(H,{size:18}),label:"NgÆ°á»i dÃ¹ng",active:h,onClick:S}),e.jsx(E,{id:"moderation",icon:e.jsx(ze,{size:18}),label:"Kiá»ƒm duyá»‡t tin",active:h,onClick:S,badge:_[0].value}),e.jsx("p",{className:"px-3 text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 mt-4",children:"Dá»¯ liá»‡u"}),e.jsx(E,{id:"data",icon:e.jsx(ue,{size:18}),label:"Kho dá»¯ liá»‡u",active:h,onClick:S})]})]}),e.jsxs("div",{className:"flex-1 p-4 lg:p-6 overflow-y-auto custom-scrollbar",children:[h==="dashboard"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Tá»•ng Quan Há»‡ Thá»‘ng"}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("span",{className:"px-3 py-1 bg-green-500/10 text-green-400 border border-green-500/20 rounded-full text-xs font-bold flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"System Online"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Q,{title:"Tá»•ng BÃ¡o CÃ¡o",value:u.length,icon:e.jsx(le,{size:24}),color:"text-blue-400",bg:"bg-blue-500/10",trend:"+12% tuáº§n nÃ y"}),e.jsx(Q,{title:"Chá» Duyá»‡t",value:_[0].value,icon:e.jsx(ee,{size:24}),color:"text-yellow-400",bg:"bg-yellow-500/10"}),e.jsx(Q,{title:"NgÆ°á»i DÃ¹ng",value:K.length,icon:e.jsx(H,{size:24}),color:"text-purple-400",bg:"bg-purple-500/10",trend:"+5 má»›i hÃ´m nay"}),e.jsx(Q,{title:"API Requests",value:"24.5k",icon:e.jsx(ht,{size:24}),color:"text-emerald-400",bg:"bg-emerald-500/10",trend:"99.9% Success"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"lg:col-span-2 bg-slate-900 rounded-xl border border-slate-800 p-6 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(ge,{size:18,className:"text-blue-500"})," Traffic & Táº£i Há»‡ Thá»‘ng"]}),e.jsx("div",{className:"h-72",children:e.jsx(be,{width:"100%",height:"100%",children:e.jsxs(et,{data:Je,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorApi",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),e.jsx(Ge,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),e.jsx(We,{dataKey:"time",stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1}),e.jsx(Ye,{stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1}),e.jsx(fe,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#334155",color:"#fff"}}),e.jsx(tt,{type:"monotone",dataKey:"apiCalls",stroke:"#3b82f6",strokeWidth:2,fillOpacity:1,fill:"url(#colorApi)"})]})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-slate-900 rounded-xl border border-slate-800 p-6 shadow-lg",children:[e.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[e.jsx(Ce,{size:16})," Server Resources"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsxs("span",{className:"text-slate-300 flex items-center gap-1",children:[e.jsx(it,{size:12})," CPU Usage"]}),e.jsx("span",{className:"text-green-400 font-bold",children:"12%"})]}),e.jsx("div",{className:"w-full bg-slate-800 rounded-full h-1.5",children:e.jsx("div",{className:"bg-green-500 h-1.5 rounded-full",style:{width:"12%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsxs("span",{className:"text-slate-300 flex items-center gap-1",children:[e.jsx(ot,{size:12})," RAM Usage"]}),e.jsx("span",{className:"text-blue-400 font-bold",children:"45%"})]}),e.jsx("div",{className:"w-full bg-slate-800 rounded-full h-1.5",children:e.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full",style:{width:"45%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsxs("span",{className:"text-slate-300 flex items-center gap-1",children:[e.jsx(ue,{size:12})," Disk Space"]}),e.jsx("span",{className:"text-purple-400 font-bold",children:"28%"})]}),e.jsx("div",{className:"w-full bg-slate-800 rounded-full h-1.5",children:e.jsx("div",{className:"bg-purple-500 h-1.5 rounded-full",style:{width:"28%"}})})]})]})]}),e.jsxs("div",{className:"bg-slate-900 rounded-xl border border-slate-800 p-6 shadow-lg flex-1",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4",children:"Tá»· lá»‡ duyá»‡t bÃ¡o cÃ¡o"}),e.jsx("div",{className:"h-40",children:e.jsx(be,{width:"100%",height:"100%",children:e.jsxs(st,{children:[e.jsx(lt,{data:_,dataKey:"value",innerRadius:40,outerRadius:60,paddingAngle:5,children:_.map((t,s)=>e.jsx(Ze,{fill:t.color},`cell-${s}`))}),e.jsx(fe,{contentStyle:{backgroundColor:"#0f172a",borderRadius:"8px",border:"1px solid #334155"}})]})})}),e.jsx("div",{className:"flex justify-center gap-4 text-xs",children:_.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:t.color}}),e.jsx("span",{className:"text-slate-300",children:t.name})]},s))})]})]})]})]}),h==="users"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Quáº£n LÃ½ NgÆ°á»i DÃ¹ng"}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:P||`Äang hiá»ƒn thá»‹ ${K.length} ngÆ°á»i dÃ¹ng tá»« CSDL`})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(je,{className:"absolute left-3 top-2.5 text-slate-500",size:14}),e.jsxs("select",{className:"bg-slate-900 border border-slate-700 rounded-lg py-2 pl-9 pr-7 text-white text-sm focus:border-blue-500 outline-none appearance-none cursor-pointer hover:bg-slate-800 transition-colors",value:G,onChange:t=>Le(t.target.value),children:[e.jsx("option",{value:"all",children:"Táº¥t cáº£ tráº¡ng thÃ¡i"}),e.jsx("option",{value:"active",children:"Hoáº¡t Ä‘á»™ng"}),e.jsx("option",{value:"banned",children:"ÄÃ£ khÃ³a"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(H,{className:"absolute left-3 top-2.5 text-slate-500",size:14}),e.jsxs("select",{className:"bg-slate-900 border border-slate-700 rounded-lg py-2 pl-9 pr-7 text-white text-sm focus:border-blue-500 outline-none appearance-none cursor-pointer hover:bg-slate-800 transition-colors",value:W,onChange:t=>{He(t.target.value),A({auth_provider:t.target.value,date_from:Y,date_to:Z})},children:[e.jsx("option",{value:"all",children:"Táº¥t cáº£ loáº¡i TK"}),e.jsx("option",{value:"system",children:"ðŸ  TÃ i khoáº£n há»‡ thá»‘ng"}),e.jsx("option",{value:"google",children:"ðŸ”µ TÃ i khoáº£n Google"}),e.jsx("option",{value:"facebook",children:"ðŸ“˜ TÃ i khoáº£n Facebook"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-slate-500 text-xs",children:"Tá»«:"}),e.jsx("input",{type:"date",className:"bg-slate-900 border border-slate-700 rounded-lg py-1.5 px-3 text-white text-sm focus:border-blue-500 outline-none cursor-pointer hover:bg-slate-800 transition-colors",value:Y,onChange:t=>{Ie(t.target.value),A({auth_provider:W,date_from:t.target.value,date_to:Z})}})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-slate-500 text-xs",children:"Äáº¿n:"}),e.jsx("input",{type:"date",className:"bg-slate-900 border border-slate-700 rounded-lg py-1.5 px-3 text-white text-sm focus:border-blue-500 outline-none cursor-pointer hover:bg-slate-800 transition-colors",value:Z,onChange:t=>{Ee(t.target.value),A({auth_provider:W,date_from:Y,date_to:t.target.value})}})]}),e.jsxs("div",{className:"relative",children:[e.jsx(at,{className:"absolute left-3 top-2.5 text-slate-500",size:14}),e.jsx("input",{type:"text",className:"bg-slate-900 border border-slate-700 rounded-lg py-2 pl-9 pr-4 text-white text-sm focus:border-blue-500 outline-none w-52 transition-all",placeholder:"TÃ¬m theo tÃªn hoáº·c email...",value:J,onChange:t=>Fe(t.target.value)})]}),e.jsxs("button",{onClick:()=>B(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white text-invariant-white rounded-lg text-sm font-semibold flex items-center gap-2 shadow-lg shadow-blue-900/20 active:scale-95 transition-all",children:[e.jsx(H,{size:16})," ThÃªm ngÆ°á»i dÃ¹ng"]})]})]}),e.jsx("div",{className:"bg-slate-900 rounded-xl border border-slate-800 overflow-hidden shadow-lg",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-slate-950 text-slate-400 text-xs font-bold uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"User Info"}),e.jsx("th",{className:"p-4",children:"Loáº¡i Ä‘Äƒng nháº­p"}),e.jsx("th",{className:"p-4",children:"Role"}),e.jsx("th",{className:"p-4",children:"Status"}),e.jsx("th",{className:"p-4",children:"Joined Date"}),e.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-800",children:[K.filter(t=>{const s=t.name.toLowerCase().includes(J.toLowerCase())||t.email.toLowerCase().includes(J.toLowerCase()),a=G==="all"||t.status===G;return s&&a}).map(t=>e.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[e.jsxs("td",{className:"p-4 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-slate-300 font-bold border border-slate-700",children:t.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-white text-sm",children:t.name}),e.jsx("p",{className:"text-xs text-slate-500",children:t.email})]})]}),e.jsx("td",{className:"p-4",children:t.auth_provider==="google"?e.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-1 rounded-full text-[11px] font-semibold bg-blue-500/10 text-blue-400 border border-blue-500/20 w-fit",children:[e.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 48 48",children:[e.jsx("path",{fill:"#FFC107",d:"M43.6 20H24v8h11.3C33.6 32.7 29.3 36 24 36c-6.6 0-12-5.4-12-12s5.4-12 12-12c3 0 5.8 1.1 8 3l5.7-5.7C34 6 29.3 4 24 4 12.9 4 4 12.9 4 24s8.9 20 20 20 20-8.9 20-20c0-1.3-.1-2.7-.4-4z"}),e.jsx("path",{fill:"#FF3D00",d:"M6.3 14.7l6.6 4.8C14.6 15.1 18.9 12 24 12c3 0 5.8 1.1 8 3l5.7-5.7C34 6 29.3 4 24 4 16.3 4 9.6 8.3 6.3 14.7z"}),e.jsx("path",{fill:"#4CAF50",d:"M24 44c5.2 0 9.9-2 13.4-5.2l-6.2-5.2A12 12 0 0 1 24 36c-5.2 0-9.6-3.3-11.3-8l-6.5 5C9.5 39.6 16.2 44 24 44z"}),e.jsx("path",{fill:"#1976D2",d:"M43.6 20H24v8h11.3c-.8 2.3-2.3 4.3-4.2 5.7l6.2 5.2C40.9 35.2 44 30 44 24c0-1.3-.1-2.7-.4-4z"})]}),"Google"]}):t.auth_provider==="facebook"?e.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-1 rounded-full text-[11px] font-semibold bg-indigo-500/10 text-indigo-400 border border-indigo-500/20 w-fit",children:[e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]}):e.jsx("span",{className:"flex items-center gap-1.5 px-2 py-1 rounded-full text-[11px] font-semibold bg-slate-700 text-slate-400 border border-slate-600 w-fit",children:"ðŸ  Há»‡ thá»‘ng"})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${t.role==="admin"?"bg-purple-500/10 text-purple-400 border border-purple-500/20":"bg-blue-500/10 text-blue-400 border border-blue-500/20"}`,children:t.role})}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:`px-2 py-1 rounded text-xs font-bold flex items-center gap-1 w-fit ${t.status==="active"?"text-green-400":"text-red-400"}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${t.status==="active"?"bg-green-400":"bg-red-400"}`}),t.status]})}),e.jsx("td",{className:"p-4 text-sm text-slate-400",children:t.joined}),e.jsx("td",{className:"p-4 text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[t.role!=="admin"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>Ve(t.id,t.status==="active"?"ban":"activate"),className:`p-2 rounded-lg transition-colors ${t.status==="active"?"hover:bg-red-500/20 text-red-400":"hover:bg-green-500/20 text-green-400"}`,title:t.status==="active"?"KhÃ³a tÃ i khoáº£n":"Má»Ÿ khÃ³a tÃ i khoáº£n",children:t.status==="active"?e.jsx(ke,{size:16}):e.jsx(I,{size:16})}),e.jsx("button",{onClick:()=>ce(t),className:"p-2 hover:bg-blue-500/20 text-blue-400 rounded-lg transition-colors",title:"Chá»‰nh sá»­a thÃ´ng tin",children:e.jsx(Me,{size:16})}),e.jsx("button",{onClick:()=>Qe(t.id),className:"p-2 hover:bg-red-600/20 text-red-400 rounded-lg transition-colors",title:"XÃ³a ngÆ°á»i dÃ¹ng",children:e.jsx(ve,{size:16})})]}),e.jsx("button",{onClick:t.role==="admin"?()=>ce(t):void 0,className:`p-2 rounded-lg transition-colors ${t.role==="admin"?"hover:bg-purple-500/20 text-purple-400":"hover:bg-slate-700 text-slate-400 cursor-default"}`,title:"ThÃ´ng tin chi tiáº¿t",children:t.role==="admin"?e.jsx(Me,{size:16}):e.jsx(Ne,{size:16})})]})})]},t.id)),K.length===0&&e.jsx("tr",{children:e.jsx("td",{className:"p-4 text-center text-slate-500 text-sm",colSpan:5,children:P||"KhÃ´ng cÃ³ ngÆ°á»i dÃ¹ng nÃ o trong há»‡ thá»‘ng."})})]})]})})]}),h==="moderation"&&e.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Kiá»ƒm Duyá»‡t BÃ¡o CÃ¡o"}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Quáº£n lÃ½ cÃ¡c tin bÃ¡o tá»« ngÆ°á»i dÃ¹ng"})]}),e.jsx("div",{className:"flex gap-2",children:d.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>oe("verified"),className:"px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg font-bold flex items-center gap-2 text-sm transition-all animate-fade-in text-invariant-white",children:[e.jsx(I,{size:16})," Duyá»‡t (",d.length,")"]}),e.jsxs("button",{onClick:()=>oe("rejected"),className:"px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg font-bold flex items-center gap-2 text-sm transition-all animate-fade-in text-invariant-white",children:[e.jsx(ve,{size:16})," Tá»« chá»‘i (",d.length,")"]})]})})]}),e.jsxs("div",{className:"bg-slate-900 p-4 rounded-xl border border-slate-800 flex flex-wrap gap-4 items-center",children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-300 text-sm",children:[e.jsx(je,{size:16})," ",e.jsx("span",{className:"font-bold",children:"Bá»™ lá»c:"})]}),e.jsxs("select",{className:"bg-slate-800 border border-slate-700 text-white text-sm rounded-lg px-3 py-2 outline-none focus:border-blue-500",value:R,onChange:t=>Ae(t.target.value),children:[e.jsx("option",{value:"all",children:"Táº¥t cáº£ tráº¡ng thÃ¡i"}),e.jsx("option",{value:"pending",children:"Chá» duyá»‡t"}),e.jsx("option",{value:"verified",children:"ÄÃ£ duyá»‡t"}),e.jsx("option",{value:"rejected",children:"ÄÃ£ tá»« chá»‘i"})]}),e.jsx("input",{type:"date",className:"bg-slate-800 border border-slate-700 text-white text-sm rounded-lg px-3 py-2 outline-none focus:border-blue-500",value:O,onChange:t=>_e(t.target.value)}),d.length>0&&e.jsxs("span",{className:"ml-auto text-sm text-blue-400 font-medium",children:["Äang chá»n ",d.length," dÃ²ng"]})]}),e.jsxs("div",{className:"bg-slate-900 rounded-xl border border-slate-800 overflow-hidden flex-1 flex flex-col shadow-lg",children:[e.jsx("div",{className:"overflow-auto flex-1",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-950 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 border-b border-slate-800 w-12",children:e.jsx("button",{onClick:Ke,className:"text-slate-400 hover:text-white",children:d.length===N.length&&N.length>0?e.jsx(ye,{size:20,className:"text-blue-500"}):e.jsx(Se,{size:20})})}),e.jsx("th",{className:"p-4 border-b border-slate-800 text-xs font-bold text-slate-400 uppercase",children:"Thá»i gian"}),e.jsx("th",{className:"p-4 border-b border-slate-800 text-xs font-bold text-slate-400 uppercase",children:"Khu vá»±c"}),e.jsx("th",{className:"p-4 border-b border-slate-800 text-xs font-bold text-slate-400 uppercase",children:"Ná»™i dung"}),e.jsx("th",{className:"p-4 border-b border-slate-800 text-xs font-bold text-slate-400 uppercase",children:"Tráº¡ng thÃ¡i"}),e.jsx("th",{className:"p-4 border-b border-slate-800 text-xs font-bold text-slate-400 uppercase text-right",children:"Thao tÃ¡c"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-800/50",children:N.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-8 text-center text-slate-500",children:"KhÃ´ng tÃ¬m tháº¥y bÃ¡o cÃ¡o nÃ o."})}):N.map(t=>e.jsxs("tr",{className:`hover:bg-slate-800/80 transition-colors ${d.includes(t.report_id)?"bg-blue-900/10":""}`,children:[e.jsx("td",{className:"p-4",children:e.jsx("button",{onClick:()=>Pe(t.report_id),className:"text-slate-400",children:d.includes(t.report_id)?e.jsx(ye,{size:20,className:"text-blue-500"}):e.jsx(Se,{size:20})})}),e.jsxs("td",{className:"p-4 text-sm text-slate-300 font-mono",children:[new Date(t.created_at).toLocaleDateString("vi-VN"),e.jsx("br",{}),new Date(t.created_at).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("td",{className:"p-4 text-sm text-white font-medium",children:[t.district,e.jsx("div",{className:"text-xs text-slate-500 font-normal mt-0.5",children:t.address})]}),e.jsxs("td",{className:"p-4",children:[e.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded border mb-1 inline-block
                                                        ${t.type==="burning"?"border-red-500/30 text-red-400 bg-red-500/10":t.type==="construction"?"border-orange-500/30 text-orange-400 bg-orange-500/10":"border-blue-500/30 text-blue-400 bg-blue-500/10"}`,children:t.type==="other"?(t.customType||"KhÃ¡c").toUpperCase():t.type.toUpperCase()}),e.jsx("p",{className:"text-sm text-slate-300 line-clamp-2",children:t.description})]}),e.jsxs("td",{className:"p-4",children:[t.status==="pending"&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-yellow-500/10 text-yellow-500 text-xs font-bold",children:[e.jsx(ee,{size:12})," Chá» duyá»‡t"]}),t.status==="verified"&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-green-500/10 text-green-500 text-xs font-bold",children:[e.jsx(I,{size:12})," ÄÃ£ duyá»‡t"]}),t.status==="rejected"&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-red-500/10 text-red-500 text-xs font-bold",children:[e.jsx(te,{size:12})," Tá»« chá»‘i"]})]}),e.jsxs("td",{className:"p-4 text-right space-x-2",children:[e.jsx("button",{onClick:()=>q(t),className:"p-1.5 rounded bg-blue-600/20 text-blue-400 hover:bg-blue-600 hover:text-white transition-colors",title:"Xem chi tiáº¿t",children:e.jsx(Ne,{size:16})}),t.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>g([t.report_id],"verified"),className:"p-1.5 rounded bg-green-600/20 text-green-400 hover:bg-green-600 hover:text-white transition-colors",title:"Duyá»‡t",children:e.jsx(se,{size:16})}),e.jsx("button",{onClick:()=>g([t.report_id],"rejected"),className:"p-1.5 rounded bg-red-600/20 text-red-400 hover:bg-red-600 hover:text-white transition-colors",title:"Tá»« chá»‘i",children:e.jsx(L,{size:16})})]})]})]},t.report_id))})]})}),e.jsxs("div",{className:"bg-slate-900 p-3 text-xs text-slate-500 text-center border-t border-slate-800",children:["Hiá»ƒn thá»‹ ",N.length," káº¿t quáº£"]})]})]}),h==="data"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Quáº£n LÃ½ Dá»¯ Liá»‡u Nguá»“n"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-bold text-slate-300",children:"File CSV (Import)"}),Object.entries(Te).map(([t,s])=>e.jsxs("div",{className:"bg-slate-900 rounded-xl p-4 border border-slate-800 hover:border-blue-500/30 transition-all flex justify-between items-center group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-800 rounded-lg text-slate-400 group-hover:text-blue-400 transition-colors",children:e.jsx(le,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-200 text-sm",children:s.label}),e.jsx("p",{className:"text-xs text-slate-500 font-mono mt-1",children:t})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[s.status==="uploaded"&&e.jsxs("span",{className:"text-xs text-green-500 font-bold flex items-center gap-1",children:[e.jsx(se,{size:12})," Updated"]}),e.jsxs("label",{className:"cursor-pointer px-3 py-2 bg-blue-600 hover:bg-blue-500 text-white text-invariant-white text-xs font-bold rounded-lg transition-colors flex items-center gap-2",children:[e.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:a=>qe(t,a)}),e.jsx(xt,{size:14})," Upload"]})]})]},t))]}),e.jsxs("div",{className:"bg-slate-900 rounded-xl p-0 border border-slate-800 h-fit overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-slate-800 bg-slate-950 flex justify-between items-center",children:[e.jsxs("h3",{className:"font-bold text-slate-300 flex items-center gap-2",children:[e.jsx(ct,{size:16})," System Logs"]}),e.jsxs("span",{className:"text-xs text-slate-500 flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})," Live"]})]}),e.jsx("div",{className:"space-y-0 max-h-[400px] overflow-y-auto custom-scrollbar p-0 bg-slate-950 font-mono text-xs",children:De.map(t=>e.jsxs("div",{className:"p-3 border-b border-slate-800/50 hover:bg-slate-900/50 transition-colors flex gap-3",children:[e.jsxs("span",{className:"text-slate-500 shrink-0 opacity-70",children:["[",t.time,"]"]}),e.jsx("span",{className:t.type==="success"?"text-green-400":t.type==="error"?"text-red-400":t.type==="warning"?"text-yellow-400":"text-blue-300",children:t.msg})]},t.id))})]})]})]}),h==="system"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Cáº¥u HÃ¬nh Há»‡ Thá»‘ng"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl border border-slate-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-red-500/10 text-red-400 rounded-lg",children:e.jsx(dt,{size:20})}),e.jsx("h3",{className:"font-bold text-white",children:"Cháº¿ Ä‘á»™ báº£o trÃ¬"})]}),e.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Khi báº­t, chá»‰ Admin má»›i cÃ³ thá»ƒ truy cáº­p há»‡ thá»‘ng. NgÆ°á»i dÃ¹ng sáº½ tháº¥y trang thÃ´ng bÃ¡o báº£o trÃ¬."}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:async()=>{const t=!C;if(confirm(t?"Báº­t cháº¿ Ä‘á»™ báº£o trÃ¬?":"Táº¯t cháº¿ Ä‘á»™ báº£o trÃ¬?"))try{await k.updateSystemSettings({maintenanceMode:t}),re(t),c({maintenanceMode:t,refreshInterval:ne}),i(t?"warning":"success",t?"ÄÃ£ báº­t cháº¿ Ä‘á»™ báº£o trÃ¬":"ÄÃ£ táº¯t cháº¿ Ä‘á»™ báº£o trÃ¬"),alert(t?"ÄÃ£ báº­t cháº¿ Ä‘á»™ báº£o trÃ¬":"ÄÃ£ táº¯t cháº¿ Ä‘á»™ báº£o trÃ¬")}catch(s){console.error("Update maintenance error:",s),alert("KhÃ´ng thá»ƒ cáº­p nháº­t cháº¿ Ä‘á»™ báº£o trÃ¬")}},className:`relative inline-block w-12 h-6 transition duration-200 ease-in-out rounded-full cursor-pointer ${C?"bg-red-500/70":"bg-slate-700"}`,children:e.jsx("span",{className:`inline-block w-6 h-6 transform bg-white rounded-full shadow transition duration-200 ease-in-out ${C?"translate-x-6":"translate-x-0"}`})}),e.jsx("span",{className:`text-sm font-bold ${C?"text-red-400":"text-slate-500"}`,children:C?"Äang Báº­t":"Äang Táº¯t"})]})]}),e.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl border border-slate-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-blue-500/10 text-blue-400 rounded-lg",children:e.jsx(rt,{size:20})}),e.jsx("h3",{className:"font-bold text-white",children:"Táº§n suáº¥t lÃ m má»›i dá»¯ liá»‡u"})]}),e.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Cáº¥u hÃ¬nh khoáº£ng thá»i gian tá»± Ä‘á»™ng cáº­p nháº­t dá»¯ liá»‡u tá»« cÃ¡c tráº¡m quan tráº¯c."}),e.jsxs("select",{className:"bg-slate-950 border border-slate-700 text-white text-sm rounded-lg px-3 py-2 w-full outline-none focus:border-blue-500",value:ne,onChange:async t=>{const s=t.target.value;try{await k.updateSystemSettings({refreshInterval:s}),ie(s),c({maintenanceMode:C,refreshInterval:s}),i("info",`ÄÃ£ Ä‘á»•i táº§n suáº¥t lÃ m má»›i: ${s}`),alert(`ÄÃ£ Ä‘á»•i táº§n suáº¥t lÃ m má»›i: ${s}`)}catch(a){console.error("Update refresh interval error:",a),alert("KhÃ´ng thá»ƒ cáº­p nháº­t táº§n suáº¥t lÃ m má»›i")}},children:[e.jsx("option",{value:"15m",children:"Má»—i 15 phÃºt (Máº·c Ä‘á»‹nh)"}),e.jsx("option",{value:"30m",children:"Má»—i 30 phÃºt"}),e.jsx("option",{value:"60m",children:"Má»—i 1 giá»"}),e.jsx("option",{value:"off",children:"Táº¯t tá»± Ä‘á»™ng cáº­p nháº­t"})]})]})]})]})]}),Re&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/80 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-md p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"ThÃªm ngÆ°á»i dÃ¹ng má»›i"}),e.jsx("button",{onClick:()=>B(!1),className:"text-slate-400 hover:text-white",children:e.jsx(L,{size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Username"}),e.jsx("input",{type:"text",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white focus:border-blue-500 outline-none",value:U.username,onChange:t=>D(s=>({...s,username:t.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Email"}),e.jsx("input",{type:"email",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white focus:border-blue-500 outline-none",value:U.email,onChange:t=>D(s=>({...s,email:t.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Máº­t kháº©u táº¡m"}),e.jsx("input",{type:"password",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white focus:border-blue-500 outline-none",value:U.password,onChange:t=>D(s=>({...s,password:t.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Quyá»n"}),e.jsxs("select",{className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white focus:border-blue-500 outline-none",value:U.role,onChange:t=>D(s=>({...s,role:t.target.value})),children:[e.jsx("option",{value:"user",children:"USER"}),e.jsx("option",{value:"admin",children:"ADMIN"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 rounded-lg bg-slate-700 text-white hover:bg-slate-600 text-sm font-semibold",children:"Há»§y"}),e.jsx("button",{onClick:Xe,className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-500 text-white text-sm font-semibold",children:"Táº¡o ngÆ°á»i dÃ¹ng"})]})]})}),l&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"bg-slate-900 border border-slate-700 w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden animate-fade-in-up flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-800/50",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(le,{size:20,className:"text-blue-400"})," Chi Tiáº¿t BÃ¡o CÃ¡o #",l.report_id]}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:new Date(l.created_at).toLocaleString("vi-VN")})]}),e.jsx("button",{onClick:()=>q(null),className:"text-slate-400 hover:text-white transition-colors bg-slate-800 p-2 rounded-full hover:bg-slate-700",children:e.jsx(L,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50",children:[e.jsxs("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3 flex items-center gap-2",children:[e.jsx(H,{size:14})," NgÆ°á»i bÃ¡o cÃ¡o"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold text-slate-300",children:["#",l.user_id]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-white font-medium",children:["User ID: ",l.user_id]}),e.jsx("p",{className:"text-xs text-slate-500",children:"ThÃ nh viÃªn cá»™ng Ä‘á»“ng"})]})]})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50",children:[e.jsxs("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3 flex items-center gap-2",children:[e.jsx(nt,{size:14})," Äá»‹a Ä‘iá»ƒm"]}),e.jsx("p",{className:"text-blue-400 font-bold text-lg mb-1",children:l.district}),e.jsx("p",{className:"text-slate-300 text-sm",children:l.address})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:"Ná»™i dung pháº£n Ã¡nh"}),e.jsxs("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("span",{className:`px-3 py-1 rounded-lg text-sm font-bold border
                                            ${l.type==="burning"?"border-red-500/30 text-red-400 bg-red-500/10":l.type==="construction"?"border-orange-500/30 text-orange-400 bg-orange-500/10":"border-blue-500/30 text-blue-400 bg-blue-500/10"}`,children:l.type==="other"?(l.customType||"KhÃ¡c").toUpperCase():l.type.toUpperCase()}),e.jsxs("span",{className:`px-3 py-1 rounded-lg text-sm font-bold border flex items-center gap-1
                                             ${l.status==="verified"?"border-green-500/30 text-green-400 bg-green-500/10":l.status==="rejected"?"border-red-500/30 text-red-400 bg-red-500/10":"border-yellow-500/30 text-yellow-400 bg-yellow-500/10"}`,children:[l.status==="pending"&&e.jsx(ee,{size:14}),l.status==="verified"&&e.jsx(I,{size:14}),l.status==="rejected"&&e.jsx(te,{size:14}),l.status==="pending"?"Chá» duyá»‡t":l.status==="verified"?"ÄÃ£ duyá»‡t":"ÄÃ£ tá»« chá»‘i"]})]}),e.jsx("p",{className:"text-slate-200 leading-relaxed whitespace-pre-wrap",children:l.description})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3 flex items-center gap-2",children:[e.jsx(we,{size:14})," HÃ¬nh áº£nh báº±ng chá»©ng"]}),e.jsx("div",{className:"w-full h-48 bg-slate-800 rounded-xl border border-slate-700 border-dashed flex items-center justify-center flex-col gap-2",children:l.image_url?e.jsx("img",{src:l.image_url.startsWith("http")?l.image_url:"https://airhanoi.onrender.com/api".replace(/\/api\/?$/,"")+"/"+l.image_url,alt:"Evidence",className:"h-full w-full object-contain rounded-xl",onError:t=>{t.target.src="https://placehold.co/600x400?text=Image+Not+Found"}}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-12 h-12 bg-slate-700 rounded-full flex items-center justify-center text-slate-500",children:e.jsx(we,{size:24})}),e.jsx("p",{className:"text-slate-500 text-sm",children:"NgÆ°á»i dÃ¹ng khÃ´ng táº£i lÃªn hÃ¬nh áº£nh"})]})})]})]}),e.jsx("div",{className:"p-6 border-t border-slate-800 bg-slate-800/30 flex justify-end gap-3 mt-auto",children:l.status==="pending"?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>de("rejected"),className:"px-5 py-2.5 rounded-xl bg-red-600/10 text-red-400 hover:bg-red-600 hover:text-white border border-red-600/20 font-bold transition-all flex items-center gap-2",children:[e.jsx(L,{size:18})," Tá»« chá»‘i"]}),e.jsxs("button",{onClick:()=>de("verified"),className:"px-5 py-2.5 rounded-xl bg-green-600 hover:bg-green-500 text-white text-invariant-white shadow-lg shadow-green-900/20 font-bold transition-all flex items-center gap-2",children:[e.jsx(se,{size:18})," Duyá»‡t bÃ¡o cÃ¡o"]})]}):e.jsx("button",{onClick:()=>q(null),className:"px-5 py-2.5 rounded-xl bg-slate-700 text-white text-invariant-white hover:bg-slate-600 font-bold transition-all",children:"ÄÃ³ng cá»­a sá»•"})})]})}),Oe&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/80 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-md p-6 shadow-2xl animate-fade-in-up",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Chá»‰nh sá»­a thÃ´ng tin"}),e.jsx("button",{onClick:()=>V(!1),className:"text-slate-400 hover:text-white",children:e.jsx(L,{size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Username"}),e.jsx("input",{type:"text",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white focus:border-blue-500 outline-none",value:x.username,onChange:t=>X(s=>({...s,username:t.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Email"}),e.jsx("input",{type:"email",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white focus:border-blue-500 outline-none",value:x.email,onChange:t=>X(s=>({...s,email:t.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Quyá»n háº¡n"}),e.jsxs("select",{className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white focus:border-blue-500 outline-none",value:x.role,onChange:t=>X(s=>({...s,role:t.target.value})),children:[e.jsx("option",{value:"user",children:"USER (NgÆ°á»i dÃ¹ng thÆ°á»ng)"}),e.jsx("option",{value:"admin",children:"ADMIN (Quáº£n trá»‹ viÃªn)"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:()=>V(!1),className:"px-4 py-2 rounded-lg bg-slate-700 text-white hover:bg-slate-600 text-sm font-semibold transition-colors",children:"Há»§y"}),e.jsx("button",{onClick:Be,className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-500 text-white text-sm font-semibold transition-colors shadow-lg shadow-blue-900/20",children:"LÆ°u thay Ä‘á»•i"})]})]})}),m.isOpen&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-950/90 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-sm p-6 shadow-2xl animate-scale-in",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:`p-3 rounded-full ${m.type==="danger"?"bg-red-500/10 text-red-500":m.type==="warning"?"bg-orange-500/10 text-orange-500":"bg-blue-500/10 text-blue-500"}`,children:m.type==="danger"?e.jsx(ze,{size:24}):m.type==="warning"?e.jsx(te,{size:24}):e.jsx(I,{size:24})}),e.jsx("h3",{className:"text-lg font-bold text-white",children:m.title})]}),e.jsx("p",{className:"text-slate-300 text-sm mb-6 leading-relaxed",children:m.message}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>$(t=>({...t,isOpen:!1})),className:"px-4 py-2 rounded-lg bg-slate-800 text-slate-300 hover:bg-slate-700 text-sm font-bold transition-colors",children:"Há»§y bá»"}),e.jsx("button",{onClick:m.onConfirm,className:`px-4 py-2 rounded-lg text-white text-sm font-bold transition-colors shadow-lg ${m.type==="danger"?"bg-red-600 hover:bg-red-500 shadow-red-900/20":m.type==="warning"?"bg-orange-600 hover:bg-orange-500 shadow-orange-900/20":"bg-blue-600 hover:bg-blue-500 shadow-blue-900/20"}`,children:"XÃ¡c nháº­n"})]})]})})]})},E=({id:y,icon:z,label:u,active:g,onClick:b,badge:c})=>e.jsxs("button",{onClick:()=>b(y),className:`w-full flex items-center justify-between p-3 rounded-xl transition-all mb-1 group
            ${g===y?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:g===y?"text-white":"text-slate-500 group-hover:text-white",children:z}),e.jsx("span",{className:"font-medium text-sm",children:u})]}),c&&c>0&&e.jsx("span",{className:"bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-md shadow-sm",children:c})]}),Q=({title:y,value:z,icon:u,color:g,bg:b,trend:c})=>e.jsxs("div",{className:"bg-slate-900 rounded-xl p-6 border border-slate-800 shadow-lg relative overflow-hidden group hover:border-slate-700 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider mb-1",children:y}),e.jsx("h3",{className:"text-2xl font-black text-white",children:z})]}),e.jsx("div",{className:`p-3 rounded-xl ${b} ${g}`,children:u})]}),c&&e.jsx("p",{className:`text-xs font-medium ${c.includes("+")||c.includes("Success")?"text-green-400":"text-slate-500"}`,children:c})]});export{Ut as default};
