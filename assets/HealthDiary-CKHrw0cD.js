import{c as he,R as b,r as S,j as i,X as We,e as ae}from"./index-Lu7a-E_e.js";import{S as me}from"./stethoscope-VMnejuT_.js";import{P as Ve}from"./plus-D6jfyUFD.js";import{S as He}from"./save-C1sKCd8D.js";import{T as Qe}from"./trending-up-BmyPaChM.js";import{i as we,c as le,D as Ge,w as fe,I as Ne,h as I,f as B,m as Pe,A as Se,r as C,s as Oe,n as L,J as Xe,L as _e,o as q,u as ke,G as De,K as J,S as ye,M as Ue,k as Ze,N as Je,a as Ye,E as et,B as tt,X as Ee,Y as Te,H as rt,R as nt,C as it,T as at}from"./generateCategoricalChart-DxryQjtr.js";import{A as $e}from"./Area-BscScunW.js";import{A as st}from"./alert-circle-CNWVOWLv.js";import{C as ot}from"./calendar-DdRpRpKe.js";import{A as lt}from"./activity-B2cW_9Ip.js";import{C as ct}from"./clock-D6dwwdqC.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=he("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=he("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=he("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);var ut=["type","layout","connectNulls","ref"],dt=["key"];function M(e){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(e)}function ve(e,t){if(e==null)return{};var n=pt(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?be(Object(n),!0).forEach(function(r){E(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R(e){return yt(e)||mt(e)||ft(e)||ht()}function ht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ft(e,t){if(e){if(typeof e=="string")return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}}function mt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yt(e){if(Array.isArray(e))return ce(e)}function ce(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Le(r.key),r)}}function vt(e,t,n){return t&&ge(e.prototype,t),n&&ge(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bt(e,t,n){return t=Y(t),gt(e,Ce()?Reflect.construct(t,n||[],Y(e).constructor):t.apply(e,n))}function gt(e,t){if(t&&(M(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jt(e)}function jt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ce=function(){return!!e})()}function Y(e){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y(e)}function At(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ue(e,t)}function ue(e,t){return ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ue(e,t)}function E(e,t,n){return t=Le(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e){var t=wt(e,"string");return M(t)=="symbol"?t:t+""}function wt(e,t){if(M(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(M(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Z=function(e){function t(){var n;xt(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=bt(this,t,[].concat(a)),E(n,"state",{isAnimationFinished:!0,totalLength:0}),E(n,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),E(n,"getStrokeDasharray",function(l,u,m){var x=m.reduce(function(A,c){return A+c});if(!x)return n.generateSimpleStrokeDasharray(u,l);for(var d=Math.floor(l/x),o=l%x,f=u-l,p=[],y=0,v=0;y<m.length;v+=m[y],++y)if(v+m[y]>o){p=[].concat(R(m.slice(0,y)),[o-v]);break}var g=p.length%2===0?[0,f]:[f];return[].concat(R(t.repeat(m,d)),R(p),g).map(function(A){return"".concat(A,"px")}).join(", ")}),E(n,"id",ke("recharts-line-")),E(n,"pathRef",function(l){n.mainCurve=l}),E(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),E(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return At(t,e),vt(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.points,u=s.xAxis,m=s.yAxis,x=s.layout,d=s.children,o=fe(d,Ne);if(!o)return null;var f=function(v,g){return{x:v.x,y:v.y,value:v.value,errorVal:q(v.payload,g)}},p={clipPath:r?"url(#clipPath-".concat(a,")"):null};return b.createElement(I,p,o.map(function(y){return b.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:l,xAxis:u,yAxis:m,layout:x,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,a,s){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,m=u.dot,x=u.points,d=u.dataKey,o=B(this.props,!1),f=B(m,!0),p=x.map(function(v,g){var A=O(O(O({key:"dot-".concat(g),r:3},o),f),{},{index:g,cx:v.x,cy:v.y,value:v.value,dataKey:d,payload:v.payload,points:x});return t.renderDotItem(m,A)}),y={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return b.createElement(I,G({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(r,a,s,l){var u=this.props,m=u.type,x=u.layout,d=u.connectNulls;u.ref;var o=ve(u,ut),f=O(O(O({},B(o,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:r},l),{},{type:m,layout:x,connectNulls:d});return b.createElement(Pe,G({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var s=this,l=this.props,u=l.points,m=l.strokeDasharray,x=l.isAnimationActive,d=l.animationBegin,o=l.animationDuration,f=l.animationEasing,p=l.animationId,y=l.animateNewValues,v=l.width,g=l.height,A=this.state,c=A.prevPoints,h=A.totalLength;return b.createElement(Se,{begin:d,duration:o,isActive:x,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var w=j.t;if(c){var k=c.length/u.length,N=u.map(function(P,ie){var H=Math.floor(ie*k);if(c[H]){var Q=c[H],F=C(Q.x,P.x),Re=C(Q.y,P.y);return O(O({},P),{},{x:F(w),y:Re(w)})}if(y){var qe=C(v*2,P.x),Me=C(g/2,P.y);return O(O({},P),{},{x:qe(w),y:Me(w)})}return O(O({},P),{},{x:P.x,y:P.y})});return s.renderCurveStatically(N,r,a)}var T=C(0,h),D=T(w),$;if(m){var K="".concat(m).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});$=s.getStrokeDasharray(D,h,K)}else $=s.generateSimpleStrokeDasharray(h,D);return s.renderCurveStatically(u,r,a,{strokeDasharray:$})})}},{key:"renderCurve",value:function(r,a){var s=this.props,l=s.points,u=s.isAnimationActive,m=this.state,x=m.prevPoints,d=m.totalLength;return u&&l&&l.length&&(!x&&d>0||!Oe(x,l))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(l,r,a)}},{key:"render",value:function(){var r,a=this.props,s=a.hide,l=a.dot,u=a.points,m=a.className,x=a.xAxis,d=a.yAxis,o=a.top,f=a.left,p=a.width,y=a.height,v=a.isAnimationActive,g=a.id;if(s||!u||!u.length)return null;var A=this.state.isAnimationFinished,c=u.length===1,h=le("recharts-line",m),j=x&&x.allowDataOverflow,w=d&&d.allowDataOverflow,k=j||w,N=L(g)?this.id:g,T=(r=B(l,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},D=T.r,$=D===void 0?3:D,K=T.strokeWidth,P=K===void 0?2:K,ie=Xe(l)?l:{},H=ie.clipDot,Q=H===void 0?!0:H,F=$*2+P;return b.createElement(I,{className:h},j||w?b.createElement("defs",null,b.createElement("clipPath",{id:"clipPath-".concat(N)},b.createElement("rect",{x:j?f:f-p/2,y:w?o:o-y/2,width:j?p:p*2,height:w?y:y*2})),!Q&&b.createElement("clipPath",{id:"clipPath-dots-".concat(N)},b.createElement("rect",{x:f-F/2,y:o-F/2,width:p+F,height:y+F}))):null,!c&&this.renderCurve(k,N),this.renderErrorBar(k,N),(c||l)&&this.renderDots(k,Q,N),(!v||A)&&_e.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var s=r.length%2!==0?[].concat(R(r),[0]):r,l=[],u=0;u<a;++u)l=[].concat(R(l),R(s));return l}},{key:"renderDotItem",value:function(r,a){var s;if(b.isValidElement(r))s=b.cloneElement(r,a);else if(we(r))s=r(a);else{var l=a.key,u=ve(a,dt),m=le("recharts-line-dot",typeof r!="boolean"?r.className:"");s=b.createElement(Ge,G({key:l},u,{className:m}))}return s}}])}(S.PureComponent);E(Z,"displayName","Line");E(Z,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!De.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});E(Z,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,l=e.dataKey,u=e.bandSize,m=e.displayedData,x=e.offset,d=t.layout,o=m.map(function(f,p){var y=q(f,l);return d==="horizontal"?{x:J({axis:n,ticks:a,bandSize:u,entry:f,index:p}),y:L(y)?null:r.scale(y),value:y,payload:f}:{x:L(y)?null:n.scale(y),y:J({axis:r,ticks:s,bandSize:u,entry:f,index:p}),value:y,payload:f}});return O({points:o,layout:d},x)});function W(e){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(e)}function Nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ke(r.key),r)}}function St(e,t,n){return t&&Pt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ot(e,t,n){return t=ee(t),_t(e,Ie()?Reflect.construct(t,n||[],ee(e).constructor):t.apply(e,n))}function _t(e,t){if(t&&(W(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kt(e)}function kt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ie=function(){return!!e})()}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ee(e)}function Dt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&de(e,t)}function de(e,t){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},de(e,t)}function ze(e,t,n){return t=Ke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e){var t=Et(e,"string");return W(t)=="symbol"?t:t+""}function Et(e,t){if(W(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(W(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var re=function(e){function t(){return Nt(this,t),Ot(this,t,arguments)}return Dt(t,e),St(t,[{key:"render",value:function(){return null}}])}(S.Component);ze(re,"displayName","ZAxis");ze(re,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Tt=["option","isActive"];function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X.apply(this,arguments)}function $t(e,t){if(e==null)return{};var n=Ct(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ct(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Lt(e){var t=e.option,n=e.isActive,r=$t(e,Tt);return typeof t=="string"?S.createElement(ye,X({option:S.createElement(Ue,X({type:t},r)),isActive:n,shapeType:"symbols"},r)):S.createElement(ye,X({option:t,isActive:n,shapeType:"symbols"},r))}function V(e){"@babel/helpers - typeof";return V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(e)}function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U.apply(this,arguments)}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?je(Object(n),!0).forEach(function(r){z(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function It(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fe(r.key),r)}}function zt(e,t,n){return t&&Ae(e.prototype,t),n&&Ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kt(e,t,n){return t=te(t),Bt(e,Be()?Reflect.construct(t,n||[],te(e).constructor):t.apply(e,n))}function Bt(e,t){if(t&&(V(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ft(e)}function Ft(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Be=function(){return!!e})()}function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},te(e)}function Rt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pe(e,t)}function pe(e,t){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},pe(e,t)}function z(e,t,n){return t=Fe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e){var t=qt(e,"string");return V(t)=="symbol"?t:t+""}function qt(e,t){if(V(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(V(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ne=function(e){function t(){var n;It(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=Kt(this,t,[].concat(a)),z(n,"state",{isAnimationFinished:!1}),z(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),z(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),z(n,"id",ke("recharts-scatter-")),n}return Rt(t,e),zt(t,[{key:"renderSymbolsStatically",value:function(r){var a=this,s=this.props,l=s.shape,u=s.activeShape,m=s.activeIndex,x=B(this.props,!1);return r.map(function(d,o){var f=m===o,p=f?u:l,y=_(_({},x),d);return b.createElement(I,U({className:"recharts-scatter-symbol",key:"symbol-".concat(d==null?void 0:d.cx,"-").concat(d==null?void 0:d.cy,"-").concat(d==null?void 0:d.size,"-").concat(o)},Ze(a.props,d,o),{role:"img"}),b.createElement(Lt,U({option:p,isActive:f,key:"symbol-".concat(o)},y)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,a=this.props,s=a.points,l=a.isAnimationActive,u=a.animationBegin,m=a.animationDuration,x=a.animationEasing,d=a.animationId,o=this.state.prevPoints;return b.createElement(Se,{begin:u,duration:m,isActive:l,easing:x,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var p=f.t,y=s.map(function(v,g){var A=o&&o[g];if(A){var c=C(A.cx,v.cx),h=C(A.cy,v.cy),j=C(A.size,v.size);return _(_({},v),{},{cx:c(p),cy:h(p),size:j(p)})}var w=C(0,v.size);return _(_({},v),{},{size:w(p)})});return b.createElement(I,null,r.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var r=this.props,a=r.points,s=r.isAnimationActive,l=this.state.prevPoints;return s&&a&&a.length&&(!l||!Oe(l,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,l=a.xAxis,u=a.yAxis,m=a.children,x=fe(m,Ne);return x?x.map(function(d,o){var f=d.props,p=f.direction,y=f.dataKey;return b.cloneElement(d,{key:"".concat(p,"-").concat(y,"-").concat(s[o]),data:s,xAxis:l,yAxis:u,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(g,A){return{x:g.cx,y:g.cy,value:p==="x"?+g.node.x:+g.node.y,errorVal:q(g,A)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,a=r.points,s=r.line,l=r.lineType,u=r.lineJointType,m=B(this.props,!1),x=B(s,!1),d,o;if(l==="joint")d=a.map(function(h){return{x:h.cx,y:h.cy}});else if(l==="fitting"){var f=Je(a),p=f.xmin,y=f.xmax,v=f.a,g=f.b,A=function(j){return v*j+g};d=[{x:p,y:A(p)},{x:y,y:A(y)}]}var c=_(_(_({},m),{},{fill:"none",stroke:m&&m.fill},x),{},{points:d});return b.isValidElement(s)?o=b.cloneElement(s,c):we(s)?o=s(c):o=b.createElement(Pe,U({},c,{type:u})),b.createElement(I,{className:"recharts-scatter-line",key:"recharts-scatter-line"},o)}},{key:"render",value:function(){var r=this.props,a=r.hide,s=r.points,l=r.line,u=r.className,m=r.xAxis,x=r.yAxis,d=r.left,o=r.top,f=r.width,p=r.height,y=r.id,v=r.isAnimationActive;if(a||!s||!s.length)return null;var g=this.state.isAnimationFinished,A=le("recharts-scatter",u),c=m&&m.allowDataOverflow,h=x&&x.allowDataOverflow,j=c||h,w=L(y)?this.id:y;return b.createElement(I,{className:A,clipPath:j?"url(#clipPath-".concat(w,")"):null},c||h?b.createElement("defs",null,b.createElement("clipPath",{id:"clipPath-".concat(w)},b.createElement("rect",{x:c?d:d-f/2,y:h?o:o-p/2,width:c?f:f*2,height:h?p:p*2}))):null,l&&this.renderLine(),this.renderErrorBar(),b.createElement(I,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||g)&&_e.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}}])}(S.PureComponent);z(ne,"displayName","Scatter");z(ne,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!De.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});z(ne,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,a=e.item,s=e.displayedData,l=e.xAxisTicks,u=e.yAxisTicks,m=e.offset,x=a.props.tooltipType,d=fe(a.props.children,Ye),o=L(t.dataKey)?a.props.dataKey:t.dataKey,f=L(n.dataKey)?a.props.dataKey:n.dataKey,p=r&&r.dataKey,y=r?r.range:re.defaultProps.range,v=y&&y[0],g=t.scale.bandwidth?t.scale.bandwidth():0,A=n.scale.bandwidth?n.scale.bandwidth():0,c=s.map(function(h,j){var w=q(h,o),k=q(h,f),N=!L(p)&&q(h,p)||"-",T=[{name:L(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:w,payload:h,dataKey:o,type:x},{name:L(n.dataKey)?a.props.name:n.name||n.dataKey,unit:n.unit||"",value:k,payload:h,dataKey:f,type:x}];N!=="-"&&T.push({name:r.name||r.dataKey,unit:r.unit||"",value:N,payload:h,dataKey:p,type:x});var D=J({axis:t,ticks:l,bandSize:g,entry:h,index:j,dataKey:o}),$=J({axis:n,ticks:u,bandSize:A,entry:h,index:j,dataKey:f}),K=N!=="-"?r.scale(N):v,P=Math.sqrt(Math.max(K,0)/Math.PI);return _(_({},h),{},{cx:D,cy:$,x:D-P,y:$-P,xAxis:t,yAxis:n,zAxis:r,width:2*P,height:2*P,size:K,node:{x:w,y:k,z:N},tooltipPayload:T,tooltipPosition:{x:D,y:$},payload:h},d&&d[j]&&d[j].props)});return _({points:c},m)});var Mt=et({chartName:"ComposedChart",GraphicalChild:[Z,$e,tt,ne],axisComponents:[{axisType:"xAxis",AxisComp:Ee},{axisType:"yAxis",AxisComp:Te},{axisType:"zAxis",AxisComp:re}],formatAxisMap:rt});const tr=({data:e})=>{const[t,n]=S.useState([]),[r,a]=S.useState([]),[s,l]=S.useState(2),[u,m]=S.useState(""),[x,d]=S.useState(!1),[o,f]=S.useState(null),p=Math.round(e.reduce((c,h)=>c+h.aqi,0)/e.length)||0;S.useEffect(()=>{(async()=>{try{const h=await ae.getHealthLogs();n(h)}catch(h){console.error("Failed to load health logs:",h)}})()},[]);const y=c=>{r.includes(c)?a(h=>h.filter(j=>j!==c)):a(h=>[...h,c])},v=async()=>{if(r.length===0&&!u){alert("Vui lòng chọn triệu chứng hoặc ghi chú.");return}try{const c={date:new Date().toISOString().split("T")[0],symptoms:r,severity:s,note:u,aqi_at_time:p},h=await ae.addHealthLog(c),j=await ae.getHealthLogs();n(j),a([]),l(2),m(""),d(!0),setTimeout(()=>d(!1),3e3)}catch(c){console.error("Failed to save health log:",c),alert("Không thể lưu nhật ký. Vui lòng thử lại. "+(c.message||""))}},g=S.useMemo(()=>{const c=new Date,h=[];for(let j=6;j>=0;j--){const w=new Date(c);w.setDate(c.getDate()-j);const k=w.toISOString().split("T")[0],N=t.find(D=>D.date===k),T=N?N.aqi_at_time:p;h.push({date:k.split("-").slice(1).join("/"),aqi:T,severity:N?N.severity*20:0,hasLog:!!N})}return h},[t,p]),A=["Ho khan","Khó thở","Cay mắt","Sổ mũi","Đau họng","Mệt mỏi","Đau đầu","Ngứa da"];return i.jsxs("div",{className:"p-4 lg:p-6 animate-fade-in h-full overflow-y-auto pb-20",children:[i.jsxs("header",{className:"mb-4",children:[i.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Nhật Ký Sức Khỏe & Tác Động"}),i.jsx("p",{className:"text-slate-400",children:"Theo dõi triệu chứng hô hấp và phân tích mối liên hệ với chất lượng không khí."})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[i.jsx("div",{className:"lg:col-span-1 space-y-4",children:i.jsxs("div",{className:"bg-slate-800 rounded-3xl p-6 border border-slate-700 shadow-xl relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-rose-500/10 rounded-bl-full -mr-6 -mt-6"}),i.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[i.jsx(me,{className:"text-rose-400"})," Hôm nay bạn cảm thấy thế nào?"]}),i.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-xl mb-6 border border-slate-700/50 flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-slate-400",children:"AQI Hiện tại"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`text-xl font-black ${p>150?"text-red-500":p>100?"text-orange-500":"text-yellow-500"}`,children:p}),i.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-white/10 text-slate-300",children:p>150?"Xấu":p>100?"Kém":"Trung bình"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"text-sm font-bold text-slate-300 mb-3 block",children:"Triệu chứng gặp phải"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:A.map(c=>i.jsxs("button",{onClick:()=>y(c),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all text-left flex items-center justify-between
                                            ${r.includes(c)?"bg-rose-600 text-white shadow-lg shadow-rose-900/20":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:[c,r.includes(c)&&i.jsx(Ve,{size:14})]},c))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("label",{className:"text-sm font-bold text-slate-300 mb-3 flex justify-between",children:[i.jsx("span",{children:"Mức độ ảnh hưởng"}),i.jsx("span",{className:"text-rose-400",children:s===1?"Nhẹ":s===3?"Trung bình":s===5?"Nghiêm trọng":""})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(oe,{className:`transition-colors ${s<=2?"text-green-400":"text-slate-600"}`,size:24}),i.jsx("input",{type:"range",min:"1",max:"5",value:s,onChange:c=>l(parseInt(c.target.value)),className:"flex-1 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-rose-500"}),i.jsx(se,{className:`transition-colors ${s>=4?"text-red-400":"text-slate-600"}`,size:24})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"text-sm font-bold text-slate-300 mb-2 block",children:"Ghi chú thêm"}),i.jsx("textarea",{className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-3 text-white text-sm focus:border-rose-500 outline-none h-20 resize-none",placeholder:"VD: Đi ngoài đường nhiều, quên đeo khẩu trang...",value:u,onChange:c=>m(c.target.value)})]}),i.jsx("button",{onClick:v,disabled:x,className:`w-full py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg
                                ${x?"bg-green-600 text-white":"bg-rose-600 hover:bg-rose-500 text-white shadow-rose-900/30"}`,children:x?"Đã lưu nhật ký":i.jsxs(i.Fragment,{children:[i.jsx(He,{size:18})," Lưu Nhật Ký"]})})]})}),i.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[i.jsxs("div",{className:"bg-slate-800 rounded-3xl p-6 border border-slate-700 shadow-xl",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[i.jsx(Qe,{className:"text-blue-400"})," Phân Tích Tương Quan (7 Ngày)"]}),i.jsxs("div",{className:"flex gap-4 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-sm"})," AQI"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 bg-rose-500 rounded-full"})," Mức độ triệu chứng"]})]})]}),i.jsx("div",{className:"h-64 w-full",children:i.jsx(nt,{width:"100%",height:"100%",children:i.jsxs(Mt,{data:g,margin:{top:10,right:10,left:-20,bottom:0},children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"colorAqiChart",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),i.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),i.jsx(it,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),i.jsx(Ee,{dataKey:"date",stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1}),i.jsx(Te,{stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1}),i.jsx(at,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#334155",color:"#fff"},formatter:(c,h)=>[c,h==="severity"?"Mức độ (%)":"AQI"]}),i.jsx($e,{type:"monotone",dataKey:"aqi",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorAqiChart)",name:"AQI"}),i.jsx(Z,{type:"monotone",dataKey:"severity",stroke:"#f43f5e",strokeWidth:3,dot:{r:4,fill:"#f43f5e"},name:"Mức độ triệu chứng"})]})})}),i.jsxs("div",{className:"mt-4 p-4 bg-blue-900/20 border border-blue-500/20 rounded-xl flex gap-3",children:[i.jsx(st,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsxs("p",{className:"text-sm text-blue-200/80",children:[i.jsx("strong",{children:"Nhận xét AI:"})," Dữ liệu cho thấy triệu chứng của bạn thường xuất hiện khi AQI vượt ngưỡng 150. Hãy hạn chế ra ngoài vào những ngày này."]})]})]}),i.jsxs("div",{className:"bg-slate-800 rounded-3xl p-4 border border-slate-700 shadow-xl",children:[i.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[i.jsx(ot,{className:"text-slate-400"})," Lịch sử ghi nhận"]}),i.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto custom-scrollbar",children:t.length===0?i.jsx("div",{className:"text-center py-8 text-slate-500 italic",children:"Chưa có nhật ký nào. Hãy bắt đầu ghi lại sức khỏe của bạn!"}):t.map(c=>i.jsxs("div",{onClick:()=>f(c),className:"bg-slate-900/50 p-4 rounded-xl border border-slate-700/50 hover:bg-slate-700/50 transition-colors flex justify-between items-center cursor-pointer",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"text-white font-bold text-sm",children:new Date(c.date).toLocaleDateString("vi-VN",{weekday:"long",day:"2-digit",month:"2-digit"})}),i.jsxs("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold border ${c.aqi_at_time>150?"border-red-500 text-red-400":"border-yellow-500 text-yellow-400"}`,children:["AQI ",c.aqi_at_time]})]}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[c.symptoms.map((h,j)=>i.jsx("span",{className:"text-xs bg-slate-800 text-slate-300 px-2 py-0.5 rounded-md",children:h},j)),c.symptoms.length===0&&i.jsx("span",{className:"text-xs text-slate-500",children:"Không có triệu chứng"})]})]}),i.jsxs("div",{className:"flex flex-col items-end",children:[c.severity===1?i.jsx(oe,{className:"text-green-500",size:20}):c.severity<=3?i.jsx(xe,{className:"text-yellow-500",size:20}):i.jsx(se,{className:"text-red-500",size:20}),i.jsxs("span",{className:"text-[10px] text-slate-500 mt-1",children:["Mức ",c.severity,"/5"]})]})]},c.id))})]})]})]}),o&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-950/90 backdrop-blur-sm animate-fade-in",children:i.jsxs("div",{className:"bg-slate-900 border border-slate-700 w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden animate-fade-in-up flex flex-col max-h-[90vh]",children:[i.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-800/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-rose-500/20 text-rose-400 rounded-lg",children:i.jsx(me,{size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-white",children:"Chi Tiết Nhật Ký Sức Khỏe"}),i.jsx("p",{className:"text-slate-400 text-sm mt-1",children:new Date(o.date).toLocaleDateString("vi-VN",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]})]}),i.jsx("button",{onClick:()=>f(null),className:"text-slate-400 hover:text-white transition-colors bg-slate-800 p-2 rounded-full hover:bg-slate-700",children:i.jsx(We,{size:20})})]}),i.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(lt,{className:"text-blue-400",size:20}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wider mb-1",children:"Chỉ số AQI tại thời điểm ghi nhận"}),i.jsx("p",{className:`text-3xl font-black ${o.aqi_at_time>150?"text-red-500":o.aqi_at_time>100?"text-orange-500":"text-yellow-500"}`,children:o.aqi_at_time})]})]}),i.jsx("div",{className:`px-4 py-2 rounded-lg font-bold text-sm border ${o.aqi_at_time>200?"bg-red-500/10 text-red-400 border-red-500/30":o.aqi_at_time>150?"bg-orange-500/10 text-orange-400 border-orange-500/30":o.aqi_at_time>100?"bg-yellow-500/10 text-yellow-400 border-yellow-500/30":"bg-green-500/10 text-green-400 border-green-500/30"}`,children:o.aqi_at_time>200?"Rất xấu":o.aqi_at_time>150?"Xấu":o.aqi_at_time>100?"Kém":o.aqi_at_time>50?"Trung bình":"Tốt"})]})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50",children:[i.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wider mb-3",children:"Mức độ ảnh hưởng"}),i.jsxs("div",{className:"flex items-center gap-4",children:[o.severity===1?i.jsx(oe,{className:"text-green-500",size:32}):o.severity<=3?i.jsx(xe,{className:"text-yellow-500",size:32}):i.jsx(se,{className:"text-red-500",size:32}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"text-white font-bold",children:["Mức ",o.severity,"/5"]}),i.jsx("span",{className:"text-slate-400 text-sm",children:o.severity===1?"Nhẹ":o.severity===2?"Hơi khó chịu":o.severity===3?"Trung bình":o.severity===4?"Nghiêm trọng":"Rất nghiêm trọng"})]}),i.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all ${o.severity<=2?"bg-green-500":o.severity<=3?"bg-yellow-500":"bg-red-500"}`,style:{width:`${o.severity/5*100}%`}})})]})]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50",children:[i.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wider mb-3",children:"Triệu chứng gặp phải"}),o.symptoms&&o.symptoms.length>0?i.jsx("div",{className:"flex flex-wrap gap-2",children:o.symptoms.map((c,h)=>i.jsx("span",{className:"px-3 py-1.5 bg-rose-500/20 text-rose-300 border border-rose-500/30 rounded-lg text-sm font-medium",children:c},h))}):i.jsx("p",{className:"text-slate-500 italic",children:"Không có triệu chứng nào được ghi nhận"})]}),o.note&&i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50",children:[i.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wider mb-3",children:"Ghi chú thêm"}),i.jsx("p",{className:"text-slate-200 leading-relaxed whitespace-pre-wrap",children:o.note})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[i.jsx(ct,{size:14}),i.jsxs("span",{children:["Ghi nhận vào: ",new Date(o.date).toLocaleString("vi-VN",{hour:"2-digit",minute:"2-digit",day:"numeric",month:"numeric",year:"numeric"})]})]})]}),i.jsx("div",{className:"p-6 border-t border-slate-800 bg-slate-800/30 flex justify-end",children:i.jsx("button",{onClick:()=>f(null),className:"px-6 py-2.5 rounded-xl bg-slate-700 hover:bg-slate-600 text-white font-bold transition-all",children:"Đóng"})})]})})]})};export{tr as default};
